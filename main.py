from file_reader import read_input_file
from gradient_generator import generate_gradient
from file_writer import write_output_file
import os

def clear_screen():
    os.system("cls" if os.name == "nt" else "clear")    

def main():
    clear_screen()
    print("[38;2;73;255;19m┌[0m[38;2;72;253;24m─[0m[38;2;71;252;30m┐[0m[38;2;70;251;36m┬[0m[38;2;69;250;42m─[0m[38;2;69;248;47m┐[0m[38;2;68;247;53m┌[0m[38;2;67;246;59m─[0m[38;2;66;245;65m┐[0m[38;2;66;244;71m┌[0m[38;2;65;242;76m─[0m[38;2;64;241;82m┐[0m[38;2;63;240;88m┬[0m[38;2;63;239;94m┌[0m[38;2;62;238;100m─[0m[38;2;61;236;105m [0m[38;2;60;235;111m [0m[38;2;59;234;117m┌[0m[38;2;59;233;123m─[0m[38;2;58;232;129m┐[0m[38;2;57;230;134m┬[0m[38;2;56;229;140m─[0m[38;2;56;228;146m┐[0m[38;2;55;227;152m┌[0m[38;2;54;226;158m─[0m[38;2;53;224;163m┐[0m[38;2;53;223;169m┌[0m[38;2;52;222;175m┬[0m[38;2;51;221;181m┐[0m[38;2;50;220;187m┬[0m[38;2;49;218;192m┌[0m[38;2;49;217;198m─[0m[38;2;48;216;204m┐[0m[38;2;47;215;210m┌[0m[38;2;46;214;216m┐[0m[38;2;46;212;221m┌[0m[38;2;45;211;227m┌[0m[38;2;44;210;233m┬[0m[38;2;43;209;239m┐[0m")
    print("[38;2;73;255;19m│[0m[38;2;72;253;24m [0m[38;2;71;252;30m┬[0m[38;2;70;251;36m├[0m[38;2;69;250;42m┬[0m[38;2;69;248;47m┘[0m[38;2;68;247;53m├[0m[38;2;67;246;59m┤[0m[38;2;66;245;65m [0m[38;2;66;244;71m├[0m[38;2;65;242;76m┤[0m[38;2;64;241;82m [0m[38;2;63;240;88m├[0m[38;2;63;239;94m┴[0m[38;2;62;238;100m┐[0m[38;2;61;236;105m [0m[38;2;60;235;111m [0m[38;2;59;234;117m│[0m[38;2;59;233;123m [0m[38;2;58;232;129m┬[0m[38;2;57;230;134m├[0m[38;2;56;229;140m┬[0m[38;2;56;228;146m┘[0m[38;2;55;227;152m├[0m[38;2;54;226;158m─[0m[38;2;53;224;163m┤[0m[38;2;53;223;169m [0m[38;2;52;222;175m│[0m[38;2;51;221;181m│[0m[38;2;50;220;187m│[0m[38;2;49;218;192m├[0m[38;2;49;217;198m┤[0m[38;2;48;216;204m [0m[38;2;47;215;210m│[0m[38;2;46;214;216m│[0m[38;2;46;212;221m│[0m[38;2;45;211;227m [0m[38;2;44;210;233m│[0m[38;2;43;209;239m [0m")
    print("[38;2;73;255;19m└[0m[38;2;72;253;24m─[0m[38;2;71;252;30m┘[0m[38;2;70;251;36m┴[0m[38;2;69;250;42m└[0m[38;2;69;248;47m─[0m[38;2;68;247;53m└[0m[38;2;67;246;59m─[0m[38;2;66;245;65m┘[0m[38;2;66;244;71m└[0m[38;2;65;242;76m─[0m[38;2;64;241;82m┘[0m[38;2;63;240;88m┴[0m[38;2;63;239;94m [0m[38;2;62;238;100m┴[0m[38;2;61;236;105m [0m[38;2;60;235;111m [0m[38;2;59;234;117m└[0m[38;2;59;233;123m─[0m[38;2;58;232;129m┘[0m[38;2;57;230;134m┴[0m[38;2;56;229;140m└[0m[38;2;56;228;146m─[0m[38;2;55;227;152m┴[0m[38;2;54;226;158m [0m[38;2;53;224;163m┴[0m[38;2;53;223;169m─[0m[38;2;52;222;175m┴[0m[38;2;51;221;181m┘[0m[38;2;50;220;187m┴[0m[38;2;49;218;192m└[0m[38;2;49;217;198m─[0m[38;2;48;216;204m┘[0m[38;2;47;215;210m┘[0m[38;2;46;214;216m└[0m[38;2;46;212;221m┘[0m[38;2;45;211;227m [0m[38;2;44;210;233m┴[0m[38;2;43;209;239m [0m")
    input_file = input("Enter the input file path: ")
    output_file = input("Enter the output file path: ")
    
    while True:
        num_colors = int(input("Enter the number of colors (2 or more): "))
        if num_colors >= 2:
            break
        else:
            print("Invalid number of colors. Please enter 2 or more.")
    
    colors = []
    for i in range(num_colors):
        color = input(f"Enter color {i+1} (in hex format, e.g., #0000FF for blue): ")
        colors.append(color)
    
    gradient_text = generate_gradient(read_input_file(input_file), *colors)
    
    write_output_file(output_file, gradient_text)
    print(f"Gradient output saved to {output_file}")

    print("\nPreview of the gradient:")
    print(gradient_text)

if __name__ == "__main__":
    main()
